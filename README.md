<p align="center"><img  src="https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/assets/140084057/ec15bc39-8111-417b-afc5-67cdfb3a9df5" alt="Geminié¡¹ç›®å›¾" /></p>

<!---
![Geminié¡¹ç›®å›¾](https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/assets/140084057/ec15bc39-8111-417b-afc5-67cdfb3a9df5)
--->

<h1 align="center">Gemini in ComfyUI</h1>
<!---
# Gemini in ComfyUI
--->

ğŸ†• æœ€æ–° Gemini 1.5 Pro æ¨¡å‹å·²åŠ å…¥ï¼

![G1 5å‘](https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/assets/140084057/8c3105c7-e165-4b6b-8a46-6ed09ecfb388)

- æ”¯æŒç³»ç»ŸæŒ‡ä»¤è®¾ç½®ï¼ˆSystem Instructionï¼‰
- æ”¯æŒå¤šæ¨¡æ€ + å¤šè½®å¯¹è¯
- å¯ä»¥è¯»å–è§†é¢‘ã€éŸ³é¢‘ç­‰æ–‡ä»¶ï¼ˆä¸Šé™ 20Gï¼‰
- æ”¯æŒè¾“å…¥çš„ token ä¸Šé™è¾¾åˆ°äº† 104ä¸‡8576
- ç›®å‰é€Ÿç‡é™åˆ¶æ¯”è¾ƒä¸¥ï¼Œæ¯åˆ†é’Ÿåªæœ‰ 2 æ¬¡ï¼Œæ¯å¤©åªæœ‰ 1000 æ¬¡

<!---
![Dingtalk_20240411192338](https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/assets/140084057/ee7997a7-75de-4787-9034-e3547b962b70)
--->

![Dingtalk_20240411194828](https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/assets/140084057/c1f71846-db5e-4bb1-a1b7-0b278ee95ea8)


å·²æ”¯æŒæ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œä¸è¿‡è¿˜ä»…é™äºå•ä¸ªæ–‡ä»¶ï¼ˆå›¾ç‰‡ã€txtæ–‡ä»¶ã€pdfæ–‡ä»¶ã€éŸ³é¢‘mp3æ–‡ä»¶ç­‰ï¼‰ï¼Œæœªæ¥ä¼šæ”¯æŒå¤šæ–‡ä»¶ä¸Šä¼ ï¼ˆç”¨äºè¯»å–è§†é¢‘ï¼‰

<!---
![Dingtalk_20231220204257](https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/assets/140084057/07c68b08-858b-4233-a48b-1069552fc8d8)
--->

All-in-One LoRa Training é¢„å¤„ç†ã€è‡ªåŠ¨æ‰“æ ‡ã€è®­ç»ƒã€æµ‹è¯• LoRA ä¸€æ¡é¾™å·¥ä½œæµ

https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/assets/140084057/d461f656-6888-48a8-b4f8-b70b7e46504d


V2.0 èŠå¤©æœºå™¨äººèŠ‚ç‚¹

https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/assets/140084057/cb64ee29-a983-47fd-b26b-55386314afdd


å°† Gemini pro vision ç”¨äºæ‰¹é‡æ‰“æ ‡


https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/assets/140084057/00addc94-1587-40d6-83f4-6b47dc1db665



## é¡¹ç›®ä»‹ç» | Info

- å°† Google Gemini å¼•å…¥åˆ° ComfyUI ä¸­ï¼Œç°åœ¨ä½ å¯ä»¥ç”¨å®ƒä¸ºä½ ç”Ÿæˆæç¤ºè¯ã€æè¿°å›¾åƒï¼Œä¹Ÿå¯ä¸å®ƒç•…èŠäººç”Ÿ

- ç›®å‰ Gemini API å…è´¹å¼€æ”¾ï¼ˆ20240502 å¼€å§‹è®¡è´¹ï¼‰ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œç”³è¯·ä¸€ä¸ªè‡ªå·±çš„ API Keyï¼š[Gemini API ç”³è¯·](https://makersuite.google.com/app/apikey)

- æœ€æ–° Gemini 1.5 Pro æ¨¡å‹ï¼š
  
    - æ”¯æŒç³»ç»ŸæŒ‡ä»¤è®¾ç½®ï¼ˆSystem Instructionï¼‰
    - æ”¯æŒå¤šæ¨¡æ€ + å¤šè½®å¯¹è¯ï¼Œ
    - å¯ä»¥è¯»å–è§†é¢‘ã€éŸ³é¢‘ç­‰æ–‡ä»¶ï¼ˆä¸Šé™ 20Gï¼‰
    - æ”¯æŒè¾“å…¥çš„ token ä¸Šé™è¾¾åˆ°äº† 104ä¸‡8576
    - ç›®å‰é€Ÿç‡é™åˆ¶æ¯”è¾ƒä¸¥ï¼Œæ¯åˆ†é’Ÿåªæœ‰ 2 æ¬¡ï¼Œæ¯å¤©åªæœ‰ 1000 æ¬¡

- ç‰ˆæœ¬ï¼šV3.0 æ–°å¢ Gemini 1.5 Pro æ¨¡å‹ã€ç³»ç»ŸæŒ‡ä»¤ã€æ–‡ä»¶ä¸Šä¼ 



## è¯¦ç»†è¯´æ˜ | Features

- Gemini ç›®å‰æä¾› 3 ç§æ¨¡å‹ï¼š

   - Gemini-pro: æ–‡æœ¬æ¨¡å‹

   - Genimi-pro-vision: æ–‡æœ¬ + å›¾åƒæ¨¡å‹
   
   - Gemini 1.5 Proï¼šæ–‡æœ¬ + å›¾åƒ + æ–‡ä»¶ï¼ˆéŸ³é¢‘ã€è§†é¢‘ç­‰å„ç±»ï¼‰ æ¨¡å‹


- Gemini 1.5 Pro æ–°èŠ‚ç‚¹ï¼š
   
   - ğŸ†•Gemini_15P_Advance_Zhoï¼šæ”¯æŒç³»ç»ŸæŒ‡ä»¤è®¾ç½®ï¼ˆSystem Instructionï¼‰
 
   - ğŸ†•Gemini_15P_Chat_Advance_Zhoï¼šæ”¯æŒç³»ç»ŸæŒ‡ä»¤è®¾ç½®ï¼ˆSystem Instructionï¼‰+ å¤šè½®å¯¹è¯
   
   - ğŸ“„Gemini_FileUpload_Zhoï¼šæ”¯æŒå•æ–‡ä»¶ä¸Šä¼ ï¼ˆå›¾ç‰‡ã€éŸ³é¢‘ã€æ–‡æœ¬txtã€pdfç­‰ï¼‰ï¼Œæš‚æœªæ”¯æŒè§†é¢‘ï¼ˆå¤šæ–‡ä»¶ï¼‰ä¸Šä¼ 
   
   - ğŸ“„Gemini_File_Zhoï¼šæ–‡ä»¶è¯»å–å¯¹è¯ï¼Œæœ€å¤§ token æ•°ä¸º 1048576


- 2 ç±»èŠ‚ç‚¹:

   - éšå¼ API KEYï¼šå°† Gemini_API_Key è®¾ç½®ä¸ºäº†ç¯å¢ƒå˜é‡ï¼Œæ›´å®‰å…¨ï¼Œæ–¹ä¾¿åˆ†äº«å·¥ä½œæµï¼ˆä¸ä¼šå¤–æ³„ API KEYï¼‰
     
       ãŠ™ï¸Gemini_Zhoï¼šåŒæ—¶æ”¯æŒ 3 ç§æ¨¡å‹ï¼Œå…¶ä¸­ Genimi-pro-vision å’Œ Gemini 1.5 Pro å¯æ¥å—å›¾åƒä½œä¸ºè¾“å…¥
     
       ãŠ™ï¸Gemini_Vsion_ImgURL_Zhoï¼šGenimi-pro-vision å’Œ Gemini 1.5 Pro æ¨¡å‹ï¼Œæ¥å—å›¾åƒé“¾æ¥ä½œä¸ºè¾“å…¥
     
       ãŠ™ï¸Gemini_Chat_Zhoï¼šGenimi-pro å’Œ Gemini 1.5 Pro æ¨¡å‹ï¼Œæ”¯æŒä¸Šä¸‹æ–‡å¯¹è¯ï¼ŒèŠå¤©æœºå™¨äººï¼ŒGemini 1.5 Pro æ”¯æŒå›¾åƒè¾“å…¥çš„ä¸Šä¸‹æ–‡å¯¹è¯

   - æ˜¾å¼API KEYï¼šç›´æ¥åœ¨èŠ‚ç‚¹ä¸­è¾“å…¥ Gemini_API_Keyï¼Œä»…ä¾›ä¸ªäººç§å¯†ä½¿ç”¨ï¼Œè¯·å‹¿å°†åŒ…å« API KEY çš„å·¥ä½œæµåˆ†äº«å‡ºå»
     
       âœ¨Gemini_API_Zhoï¼šåŒæ—¶æ”¯æŒ 3 ç§æ¨¡å‹ï¼Œå…¶ä¸­ Genimi-pro-vision å’Œ Gemini 1.5 Pro å¯æ¥å—å›¾åƒä½œä¸ºè¾“å…¥
  
       âœ¨Gemini_API_Vsion_ImgURL_Zhoï¼šGenimi-pro-vision å’Œ Gemini 1.5 Pro æ¨¡å‹ï¼Œæ¥å—å›¾åƒé“¾æ¥ä½œä¸ºè¾“å…¥
     
       âœ¨Gemini_API_Chat_Zhoï¼šï¼šGenimi-pro å’Œ Gemini 1.5 Pro æ¨¡å‹ï¼Œæ”¯æŒä¸Šä¸‹æ–‡å¯¹è¯ï¼ŒèŠå¤©æœºå™¨äººï¼ŒGemini 1.5 Pro æ”¯æŒå›¾åƒè¾“å…¥çš„ä¸Šä¸‹æ–‡å¯¹è¯

- è¾…åŠ©èŠ‚ç‚¹:

   - âœ¨DisplayText_Zhoï¼šæ˜¾ç¤ºæ–‡æœ¬
     
   - âœ¨ConcatText_Zhoï¼šä½¿ç”¨ â€œï¼Œâ€ è¿æ¥æ–‡æœ¬

- èŠ‚ç‚¹ç¤ºä¾‹ï¼š

<!---
![Dingtalk_20240411193428](https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/assets/140084057/149d5841-71f1-4a7c-a92d-e30ecc07421c)
--->

![Dingtalk_20231220180446](https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/assets/140084057/3cba8d69-09bb-470c-940c-7f796c869d63)

èŠå¤©æœºå™¨äºº

![image](https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/assets/140084057/8a38f437-0148-4777-b872-e88995dd53d2)


## å‚æ•°è¯´æ˜ | Parameters

- imageï¼ˆéå¿…è¦ï¼‰ï¼šé€‰æ‹© Gemini-pro æ—¶æ— éœ€æ¥å…¥å›¾åƒï¼Œé€‰æ‹© Genimi-pro-vision æ—¶éœ€è¦æ¥å…¥å›¾åƒï¼Œé€‰æ‹© Gemini 1.5 Pro æ—¢å¯æ¥å…¥ä¹Ÿå¯ä¸æ¥
- promptï¼šæç¤ºè¯
- model_nameï¼šæ¨¡å‹é€‰æ‹©ï¼ŒGemini-pro æˆ– Genimi-pro-vision æˆ– Gemini 1.5 Pro
- streamï¼šæµå¼ä¼ è¾“å“åº”
- api_keyï¼šè¾“å…¥ Gemini_API_Key ï¼ˆä»…åœ¨æ˜¾å¼èŠ‚ç‚¹ä¸Šæœ‰ï¼‰

## ä½¿ç”¨æ–¹æ³• | How to use

- é¦–å…ˆéœ€è¦ç”³è¯·ä¸€ä¸ªè‡ªå·±çš„ Gemini_API_Keyï¼š[Gemini API ç”³è¯·](https://makersuite.google.com/app/apikey) 

- é€‰æ‹©éšå¼èŠ‚ç‚¹ãŠ™ï¸ï¼ˆæ¨èï¼‰ï¼šå°†ä½ çš„ Gemini_API_Key æ·»åŠ åˆ° `config.json` æ–‡ä»¶ä¸­ï¼Œè¿è¡Œæ—¶ä¼šè‡ªåŠ¨åŠ è½½

- é€‰æ‹©æ˜¾ç¤ºèŠ‚ç‚¹âœ¨ï¼šç›´æ¥å°† Gemini_API_Key è¾“å…¥åˆ°èŠ‚ç‚¹çš„ api_key ä¸­ï¼ˆæ³¨æ„ï¼šè¯·å‹¿å°†åŒ…å«æ­¤èŠ‚ç‚¹çš„å·¥ä½œæµåˆ†äº«å‡ºå»ï¼Œä»¥å…æ³„éœ²ä½ çš„ API Keyï¼‰

- ä½¿ç”¨æ³¨æ„ï¼šæœ¬åœ°ä½¿ç”¨è¯·ç¡®ä¿ä½ å¯ä»¥æœ‰æ•ˆè¿æ¥åˆ° Google Gemini çš„æœåŠ¡ï¼Œæ¨èä½¿ç”¨ Colab æˆ– Kaggleï¼ˆæ— è¿æ¥é—®é¢˜ï¼‰

- ä½¿ç”¨æ–°ç‰ˆ Gemini 1.5 Pro éœ€è¦æ›´æ–°ä¾èµ– google-generativeai > 0.4.1

## å®‰è£… | Install

- æ¨èä½¿ç”¨ç®¡ç†å™¨ ComfyUI Manager å®‰è£…

- æ‰‹åŠ¨å®‰è£…ï¼š
    1. `cd custom_nodes`
    2. `git clone https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini.git`
    3. `cd custom_nodes/ComfyUI-Gemini`
    4. `pip install -r requirements.txt`
    5. é‡å¯ ComfyUI

## å·¥ä½œæµ | Workflow

### V3.0 å¹³æ›¿ DALLÂ·3

[Gemini 1.5 Pro + Stable Diffusion + ComfyUI = DALLÂ·3 ](https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/blob/main/Gemini_workflows/Gemini%201.5%20Pro%20%2B%20Stable%20Diffusion%20%2B%20ComfyUI%20%3D%20DALL%C2%B73%20%E3%80%90Zho%E3%80%91.json)


![Dingtalk_20240411195451](https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/assets/140084057/4e32d13d-615e-4441-931e-233c07cc958c)


### V2.0 å·¥ä½œæµï¼ˆéšå¼ï¼‰ï¼ˆV1.1å·¥ä½œæµä¾æ—§å¯ç”¨ï¼‰

[Gemini-pro Chatbotã€Zhoã€‘](https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/blob/main/Gemini_workflows/Gemini-pro%20Chatbot%E3%80%90Zho%E3%80%91.json)

![image](https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/assets/140084057/8a38f437-0148-4777-b872-e88995dd53d2)

### V1.1 å·¥ä½œæµï¼ˆéšå¼ï¼‰

[Gemini-proã€Zhoã€‘](https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/blob/main/Gemini_workflows/Gemini-pro%E3%80%90Zho%E3%80%91.json) 

![Dingtalk_20231220183708](https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/assets/140084057/7f0e222a-2de4-4c5b-883a-2172667d1d5b)

[Genimi-pro-visionã€Zhoã€‘](https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/blob/main/Gemini_workflows/Gemini-pro-vision%E3%80%90Zho%E3%80%91.json)

![Dingtalk_20231220192932](https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/assets/140084057/db4f4bf6-a0cf-42af-ac5a-7e2afd1bda93)

![Dingtalk_20231220190218](https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini/assets/140084057/5bb57f7b-f00f-454a-9435-c1b8a02ae71a)


## æ›´æ–°æ—¥å¿— | Changelog

20240411

- V3.0ç‰ˆï¼šæ–°å¢ Gemini 1.5 Pro æ¨¡å‹ã€ç³»ç»ŸæŒ‡ä»¤ã€æ–‡ä»¶ä¸Šä¼ 

- æ–°å¢ å¹³æ›¿ DALLÂ·3 å·¥ä½œæµï¼ˆGemini 1.5 Pro + Stable Diffusion + ComfyUI = DALLÂ·3ï¼‰

20231229

- V2.1ç‰ˆï¼šä¿®å¤ Deadline of 60.0s bugï¼Œæ–¹æ³•æ¥è‡ªå®˜æ–¹ï¼šhttps://github.com/google/generative-ai-python/issues/117

20231222

- V2.0ç‰ˆï¼šæ–°å¢ä¸Šä¸‹æ–‡èŠå¤©èŠ‚ç‚¹ï¼Œç›¸å½“äºèŠå¤©æœºå™¨äºº
    - ğŸ’¬Gemini_Chat_Zhoï¼ˆéšå¼ï¼‰
    - ğŸ’¬Gemini_API_Chat_Zhoï¼ˆæ˜¾ç¤ºï¼‰

20231221

- V1.1ç‰ˆï¼šä¿®æ”¹ API KEY çš„åŠ è½½æ–¹å¼ä¸ºè‡ªåŠ¨æ·»åŠ  config.json ï¼Œå°† API KEY å†™å…¥å³å¯
  
- å·²ç™»é™† manager ä¸ç”¨æ‰‹åŠ¨å®‰è£…äº†

20231220

- å®ç° Genimi-pro-vision æ¨¡å‹è°ƒç”¨ï¼Œæ”¯æŒå›¾åƒæˆ–å›¾åƒé“¾æ¥è¾“å…¥
- å¢åŠ éšå¼èŠ‚ç‚¹ï¼Œæ›´åŠ å®‰å…¨
- å¢åŠ è¾…åŠ©èŠ‚ç‚¹

20231219

- åˆ›å»º ComfyUI Gemini é¡¹ç›®ï¼Œå®ç° Gemini-pro æ¨¡å‹è°ƒç”¨


## Stars 

[![Star History Chart](https://api.star-history.com/svg?repos=ZHO-ZHO-ZHO/ComfyUI-Gemini&type=Timeline)](https://star-history.com/#ZHO-ZHO-ZHO/ComfyUI-Gemini&Timeline)


## å…³äºæˆ‘ | About me

ğŸ“¬ **è”ç³»æˆ‘**ï¼š
- é‚®ç®±ï¼šzhozho3965@gmail.com
- QQ ç¾¤ï¼š839821928

ğŸ”— **ç¤¾äº¤åª’ä½“**ï¼š
- ä¸ªäººé¡µï¼š[-Zho-](https://jike.city/zho)
- Bilibiliï¼š[æˆ‘çš„Bç«™ä¸»é¡µ](https://space.bilibili.com/484366804)
- Xï¼ˆTwitterï¼‰ï¼š[æˆ‘çš„Twitter](https://twitter.com/ZHOZHO672070)
- å°çº¢ä¹¦ï¼š[æˆ‘çš„å°çº¢ä¹¦ä¸»é¡µ](https://www.xiaohongshu.com/user/profile/63f11530000000001001e0c8?xhsshare=CopyLink&appuid=63f11530000000001001e0c8&apptime=1690528872)

ğŸ’¡ **æ”¯æŒæˆ‘**ï¼š
- Bç«™ï¼š[Bç«™å……ç”µ](https://space.bilibili.com/484366804)
- çˆ±å‘ç”µï¼š[ä¸ºæˆ‘å……ç”µ](https://afdian.net/a/ZHOZHO)


## Credits

- DisplayTextèŠ‚ç‚¹å‚è€ƒäº†ï¼š[ComfyUI_Custom_Nodes_AlekPet](https://github.com/AlekPet/ComfyUI_Custom_Nodes_AlekPet)ï¼Œæ„Ÿè°¢ AlekPet ï¼
